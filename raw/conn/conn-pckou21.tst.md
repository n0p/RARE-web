# Example: ppp with packet over txtls

## **Topology diagram**

![topology](/img/conn-pckou21.tst.png)

## **Configuration**

**r1:**
```
hostname r1
buggy
!
logging file debug ../binTmp/zzz95r1-log.run
!
crypto rsakey rsa import $v10$TUlJRW9nSUJBQUtDQVFCL2pYM2VzZGdtVUtQZFBtajFLNTBQR2lKVW9Pby9nMkdVaWpBei9QT3ZwcUVEMkxpcVBLV2hFRmkvd3BCelRMQllQMkoyR0hBaTlrTDBZdFd6ZGliQm56bmxjQnYra2dtZ0JFaFZtK1RHUmplTFlLZkQxb1pLVXJTMDd4Ui9MQk83RWpsU1NWclU2ZmdaUC85UlVTd096T0RwdFFQa1BWWFpqNW1SK2RQWGdIcFlGMEZweGVud1hXVHJzWjcyUkVMUWVFTmtUMnc4SStWOWxsMUZCUjJ1SG5ZTmpVeFI1SjMxbmFoSmtPVWdvMG16S08rUGdzQWpSUGhldHdSOTJ1cDIrZENsbEJMZjNuSjZoZTBHZHJLTU9TSklUc29VYzRkaGRlQnN3Vk9QOFQ5TllQS1RFeERpV1ZOejVzVHhtTEhaWTRFNFJEUndONGRrQXBiL0ZKTFRBZ01CQUFFQ2dnRUFUcUFiYk1EWDZwWmV6Q3lDYWs2ZUhBY1NEblM2c0xmOTJLQnVJajNVd1B2SDJTVW9mOWV1aVdBWU5PeHNPb2FWVlhDTTh4c1JWSnZVbmV5bXFsODBlTG43NkZCNUVTMVlQWWttUlk4NU1IZHNHY0JVNmNVOU5tZFErUTgrNVQxNFZDSmhyeldFaGlaTFJ0VktQd2Y0VG85QVBRL1YvRVZLdkRkbWhMTXBRSGNVOUQzZnpSVk04bndFeGlZaVUrb29qR0loVXA2TjZkZmVaMjFmc3E2TzJKeXdkbEFHbDdYZ0d5MTNxOXBuemcvTXdWUFM1MXZkS3grU3NJRnBTbEZmZkdUNmtGbDVuYUpHTmNXYzhGYUxZVnRKTmRSdUpHWmR0NytFL0VQS1o0eXA2aFptdTJBeUFEOXhOYmpONXMwZ0diV2ZHSm1zZ05qdm9TTHpGTXc3b1FLQmdRQzgzVm9GY1VVa0RlOXhBL2p6bUF3NldyWHdydzhCNTlYSGxhYjV4SS9hK2F0MG1IcC9sd2NWRnYzdTNDaWNGeE5ydDluNElhV05YUldkZFV4eUR5aUxVT0N3Qm5NMzBXTTlqL0hvcnVQeFR0NStHZC9YMXNjYnNWRjdYd1psVnh6NVJxaVptT2h4SFBzYTM5aG1qV2dodTIwVS9pNnRMWWI3TkJUNlkvYmpxd0tCZ1FDczVNT0ZMb1pjcXN3elZrSGZ2SHYyVWZuelhzZEdYdmNiNVRMdTg4bnpWV0tqQ3dwZzV2RTBxRmdtUXkxdURnblNwT0dxVnNydWtkWkwvbjRLVjRNUzdmTXB2UWFidDlTZlBNSEFwcS9lV2l1WG5VNlFpNWJqRUJBaklCbzRxUExJY3RPUTN0a3ZnL1lyK1I0Zjc5bDVrOXRmSHVUS1RWYlo5MmxlOWpIbGVRS0JnUUNqOW9kd3NpV1VaNFM0V1BxSWdEZ2RjU01ERVBlMmI4N290c04vazJaUWRQQ2xDTHRRaVkxY2dkbHl4Uzk4VTR4SXVCUkRsdkpqQjZ6OFJobFg3RkVHb2ZCdTRTcW1DdUpkVDlwMFoyRDgzYnZMUGl0Vzl0OWs2MHdTRHkwK1RhS1p4djRZV3VkeFMvZTBIU0dCNXNIQWh6YnNRci9ER1FOV2txQ2p3S1ZXZ1FLQmdDTU1HSXBWM1F6SjNxMEZia01SYlR1SWNKZWgvZGxKQk9TVnVKWnh1dDFsMEtIbWFnc3NwWGFjTFlwTUVkaCtaZ1ZhUVJpTGtZVjg4S2psQk4zSjBac3p1eGdaNWs0SW5NUk94NlBxNWptM282Q1BWYzY5VFMvb0lLMU9JNkthdE9SblNuWFNoc280QU4zM0dPRTJlS3BKaTYyamtKTmx6QlpSTGYzL0FDeFpBb0dBZnhJdUhVNlhtM3RudTY5TnhiaUljeVFZcEE3VEZTUUtBc3E0ZytVME9VL1MvNk5ZWWlIYTQwT3N1bm5SeHRpcFVhOVF3S2ovZlBQckVIa2owUUp0dUF5WHdIR0lvb2gxOWQ1SkFCZnkvdkU3SUNHMFNadm91L1Avbm5YVHhWY2dTMTFqSmt4M1AzaGNGdHpEU2pLOWxIM0FvVU4zWndXSUJmQUNXSi9iQ2hnPQ==
!
crypto dsakey dsa import $v10$TUlJQnVnSUJBQUtCZ0FrODZvK3BuMThVdXVyOUE3QVlmbm1sVi81NE0wUDE4alhnZ3NOSERabjZGcVV1c3VDZ1Y2NDBoMVd6OTErZmpqTWNDZ0s0V0gwMHFKdmI3OXhpZm9IcGd0aDhuMGN4cVpmNTlQemkxMTJ0N2k4S29LWVJFMzBEYmhXdFVpK0NIdXBMYzlGS004Mks0Rm1nUmMrdWRZL3lXODkrNUQ1SEp4M3R4cGVLRm95REFoVUExNDh6RjN1ZzhpTW8rVDhYQ2ppQ0NvU2tIOGNDZ1lBSTlmK1A5WXdjd3VzdS9KVGtUNUN2eWIzeG5XVmRodlI3T3RCZzA5aHdlYUtQS29PN3FYMTk4SlhQVFl3MDlxTlkyRi9wQjlGRy9DbU9PbzZSVHhFVEtzZGpZUXhvcW82MEhQcFJPYTEyWk1oWDRBclRMcmRCekFUaDFjTUQyMWZVVk9lay83ZEdWcEorQmFsZGhVOElzNkE0VHdTUFh5MWdmSmpkN0xsQkhRS0JnQVEySkQ1UkNwM1JVQWZuRy9Jd0NleVF4V1FHWFFRdlBDZ2ZFV3JMaDdxUThGWk41cDRhTGYwdWZjUFJubFRERS91dEE5RjFUTHlJd0JqZEV2S285S0RGMHpqZGdWN2VnSXl3NDU2TGVaSlJ1b3R6UHVaWGxIK3lPVjhKc0F5d0xkT2VucVR3enk4NXdJQUdlWXNvUnc0NWdXbGgrWU15RHp3NnBVYzdhVkNoQWhVQTQvUlJiVzdNWStNTGgwM1d1UGZjTENnRDZwWT0=
!
crypto ecdsakey ecdsa import $v10$TUhNQ0FRRUVIMGtSYk04dmh3Njc3RVg2RnE0cjc2cXg0T0ZlRnR2bXBROW5IUE9iK1pTZ0J3WUZLNEVFQUFxaFJBTkNBQVJFajNKUS9CWGFhdGpNRnpDaU13KzJraFExTjI0TS92U1k5NTQ3cGdIOTBWczNtbCtXa1pvOGlvTHZwallsOThZR0dDS2RPSE9vb3Y2bm9VU0lzdjdi
!
crypto certificate dsa import dsa dsa $v10$TUlJQ1VqQ0NBZytnQXdJQkFnSUVFRU8xY1RBTEJnY3Foa2pPT0FRREJRQXdEVEVMTUFrR0ExVUVBeE1DY2pFd0hoY05NakV3T0RFM01EZzFOalUwV2hjTk16RXdPREUxTURnMU5qVTBXakFOTVFzd0NRWURWUVFERXdKeU1UQ0NBYlV3Z2dFcUJnY3Foa2pPT0FRQk1JSUJIUUtCZ0FrODZvK3BuMThVdXVyOUE3QVlmbm1sVi81NE0wUDE4alhnZ3NOSERabjZGcVV1c3VDZ1Y2NDBoMVd6OTErZmpqTWNDZ0s0V0gwMHFKdmI3OXhpZm9IcGd0aDhuMGN4cVpmNTlQemkxMTJ0N2k4S29LWVJFMzBEYmhXdFVpK0NIdXBMYzlGS004Mks0Rm1nUmMrdWRZL3lXODkrNUQ1SEp4M3R4cGVLRm95REFoVUExNDh6RjN1ZzhpTW8rVDhYQ2ppQ0NvU2tIOGNDZ1lBSTlmK1A5WXdjd3VzdS9KVGtUNUN2eWIzeG5XVmRodlI3T3RCZzA5aHdlYUtQS29PN3FYMTk4SlhQVFl3MDlxTlkyRi9wQjlGRy9DbU9PbzZSVHhFVEtzZGpZUXhvcW82MEhQcFJPYTEyWk1oWDRBclRMcmRCekFUaDFjTUQyMWZVVk9lay83ZEdWcEorQmFsZGhVOElzNkE0VHdTUFh5MWdmSmpkN0xsQkhRT0JoQUFDZ1lBRU5pUStVUXFkMFZBSDV4dnlNQW5za01Wa0JsMEVMendvSHhGcXk0ZTZrUEJXVGVhZUdpMzlMbjNEMFo1VXd4UDdyUVBSZFV5OGlNQVkzUkx5cVBTZ3hkTTQzWUZlM29DTXNPT2VpM21TVWJxTGN6N21WNVIvc2psZkNiQU1zQzNUbnA2azhNOHZPY0NBQm5tTEtFY09PWUZwWWZtRE1nODhPcVZITzJsUW9UQUxCZ2NxaGtqT09BUURCUUFETUFBQU1Dd0NGRysrZmJ2NE1jZmc0b3FDclJRUEJRaTl4cXFQQWhSL1dTa3ZvQXhJb1Y0b29WL1M3U2E0ZzJzVlNBPT0=
!
crypto certificate ecdsa import ecdsa ecdsa $v10$TUlJQlRUQ0JzS0FEQWdFQ0FnUVQxeUx2TUF3R0NDcUdTTTQ5QkFNQ0JRQXdEVEVMTUFrR0ExVUVBeE1DY2pFd0hoY05NakV3T0RFM01EZzFOalUxV2hjTk16RXdPREUxTURnMU5qVTFXakFOTVFzd0NRWURWUVFERXdKeU1UQlhNQkFHQnlxR1NNNDlBZ0VHQlN1QkJBQUtBME1BQUFSRWozSlEvQlhhYXRqTUZ6Q2lNdysya2hRMU4yNE0vdlNZOTU0N3BnSDkwVnMzbWwrV2tabzhpb0x2cGpZbDk4WUdHQ0tkT0hPb292Nm5vVVNJc3Y3Yk1Bd0dDQ3FHU000OUJBTUNCUUFEZ1lrQUFEQ0JoQUloQU5Vd1FQWjl1UXh3eEE4aHZoaVV3OFJUOG5zdHRXNVY2VGxEYWhwOWJLWDhBbDh1QnJ5TkFMdVFYbkViNmNUei96YWdmbmxwMSt1bDFTclQ5UkY0a3Y2enZySHVPSWRkYkRvSjZhWFVmQitMV1dnYllkcXovdDlwNDhYN3JIeUxTOGtsdXg0YTRxQ28yQlVqbldwUFRxKzc3V1dreFY0VXhTTy9wbElvcGx1VXVnPT0=
!
crypto certificate rsa import rsa rsa $v10$TUlJQ2xUQ0NBWDJnQXdJQkFnSUVOMVRGaERBTkJna3Foa2lHOXcwQkFRc0ZBREFOTVFzd0NRWURWUVFERXdKeU1UQWVGdzB5TVRBNE1UY3dPRFUyTlRSYUZ3MHpNVEE0TVRVd09EVTJOVFJhTUEweEN6QUpCZ05WQkFNVEFuSXhNSUlCSVRBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE0QU1JSUJDUUtDQVFCL2pYM2VzZGdtVUtQZFBtajFLNTBQR2lKVW9Pby9nMkdVaWpBei9QT3ZwcUVEMkxpcVBLV2hFRmkvd3BCelRMQllQMkoyR0hBaTlrTDBZdFd6ZGliQm56bmxjQnYra2dtZ0JFaFZtK1RHUmplTFlLZkQxb1pLVXJTMDd4Ui9MQk83RWpsU1NWclU2ZmdaUC85UlVTd096T0RwdFFQa1BWWFpqNW1SK2RQWGdIcFlGMEZweGVud1hXVHJzWjcyUkVMUWVFTmtUMnc4SStWOWxsMUZCUjJ1SG5ZTmpVeFI1SjMxbmFoSmtPVWdvMG16S08rUGdzQWpSUGhldHdSOTJ1cDIrZENsbEJMZjNuSjZoZTBHZHJLTU9TSklUc29VYzRkaGRlQnN3Vk9QOFQ5TllQS1RFeERpV1ZOejVzVHhtTEhaWTRFNFJEUndONGRrQXBiL0ZKTFRBZ01CQUFFd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFBKzd0NWlrOEdKUzBQamVwa0c0d3N4MW02MlluSUFtcFpXSm13QnFNdGFxNitRVXBYWjBvZzFSNytKZDMweFZSc1lDdlBKMFFLV2dDSDlZeTd1SWpITmZkVWpVenZhRWZkemoyVnNpVVJGb0ZzeWI3RWpac1RlUVdCT3pFTXZpN0xJN3dsRUFTUGFqTnZGWjJIUGpOYTMyT1d4OWZ2RnJpeEdscVNwQWFWZDdSY00xdUMySzlGZW5ZVW5wdm5SNTI2cnJINHI5Vnhxc3NyS0RMdFBQOWNNZWY2U3RGUnR3b0hNV0RXUWp0Mk9UNUx4V2x3L0d3aTZWd2dKLytzTnhZUzJpZFF6MjBtTWhyS3JXU0s5c2pKeUNldnNSVlpaQi9QU25pdytmbENudll4NUZydGwzd0V2YnhxYkJMV1BwbXgwV1JWKytqUUNwNmJEV3dXMXl0OWs9
!
ipv4 pool p4 2.2.2.1 0.0.0.1 254
!
vrf definition tester
 exit
!
vrf definition v1
 rd 1:1
 exit
!
interface loopback0
 no description
 vrf forwarding v1
 ipv4 address 4.4.4.4 255.255.255.255
 no shutdown
 no log-link-change
 exit
!
interface dialer1
 no description
 encapsulation ppp
 ppp ip4cp open
 ppp ip4cp local 2.2.2.0
 vrf forwarding v1
 ipv4 address 2.2.2.0 255.255.255.255
 ipv4 pool p4
 no shutdown
 no log-link-change
 exit
!
interface serial1
 no description
 encapsulation hdlc
 vrf forwarding v1
 ipv4 address 1.1.1.1 255.255.255.0
 ipv6 address 1234::1 ffff::
 no shutdown
 no log-link-change
 exit
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
server telnet tester
 security protocol telnet
 no exec authorization
 no login authentication
 vrf tester
 exit
!
server pckotxt pou
 security protocol tls
 security rsakey rsa
 security dsakey dsa
 security ecdsakey ecdsa
 security rsacert rsa
 security dsacert dsa
 security ecdsacert ecdsa
 clone dialer1
 vrf v1
 exit
!
!
end
```

**r2:**
```
hostname r2
buggy
!
logging file debug ../binTmp/zzz95r2-log.run
!
prefix-list p1
 sequence 10 permit 0.0.0.0/0 ge 0 le 0
 exit
!
vrf definition tester
 exit
!
vrf definition v1
 rd 1:1
 exit
!
interface dialer1
 no description
 encapsulation ppp
 ppp ip4cp open
 ppp ip4cp local 0.0.0.0
 vrf forwarding v1
 ipv4 address 3.3.3.3 255.255.255.128
 ipv4 gateway-prefix p1
 no shutdown
 no log-link-change
 exit
!
interface serial1
 no description
 encapsulation hdlc
 vrf forwarding v1
 ipv4 address 1.1.1.2 255.255.255.0
 ipv6 address 1234::2 ffff::
 no shutdown
 no log-link-change
 exit
!
proxy-profile p1
 security tls
 vrf v1
 exit
!
vpdn pou
 interface dialer1
 proxy p1
 target 1.1.1.1
 vcid 2554
 protocol pckotxt
 exit
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
!
server telnet tester
 security protocol telnet
 no exec authorization
 no login authentication
 vrf tester
 exit
!
!
end
```
